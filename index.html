<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RivalCF - Codeforces Problem Tracker</title>
    <style>
      #matrix-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        display: block;
      }
    </style>
  </head>
  <body>
    <canvas id="matrix-bg"></canvas>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      // Matrix rain animation by Boujjou Achraf
      var c = document.getElementById("matrix-bg");
      var ctx = c.getContext("2d");

      // making the canvas full screen
      c.height = window.innerHeight;
      c.width = window.innerWidth;

      // characters for the rain
      var matrix = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}";
      matrix = matrix.split("");

      var font_size = 10;
      var columns = c.width/font_size;
      var drops = [];
      
      for(var x = 0; x < columns; x++)
        drops[x] = 1; 

      function draw() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, c.width, c.height);

        // Array of colors to cycle through - now using red/pink tones
        var colors = ["#ff0066", "#ff0033", "#ff3366", "#ff0099", "#cc0066", "#ff006f"];
        
        for(var i = 0; i < drops.length; i++) {
          // Use different color for each column
          ctx.fillStyle = colors[i % colors.length];
          ctx.font = font_size + "px arial";
          
          var text = matrix[Math.floor(Math.random()*matrix.length)];
          ctx.fillText(text, i*font_size, drops[i]*font_size);

          if(drops[i]*font_size > c.height && Math.random() > 0.975)
            drops[i] = 0;

          drops[i]++;
        }
      }

      setInterval(draw, 35);
      
      // Resize canvas on window resize
      window.addEventListener('resize', function() {
        c.height = window.innerHeight;
        c.width = window.innerWidth;
        columns = c.width/font_size;
        drops = [];
        for(var x = 0; x < columns; x++)
          drops[x] = 1;
      });
    </script>
  </body>
</html>
